<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="utf-8">
        <meta name="vieport" content="">
        <title>Hasło | Słownik Języków Zagrożonych Wymarciem</title>
        <link rel="stylesheet" href="/Endangered-Languages-Dictionary/styles.css">
        <script src="/Endangered-Languages-Dictionary/dictionary.js"></script>
        <script src="/Endangered-Languages-Dictionary/langs.js"></script>
        <script src="/Endangered-Languages-Dictionary/search.js"></script>
    </head>
    <body>
        <div class="header">
            <h1 id="website-header">Słownik Języków Zagrożonych Wymarciem</h1>
            <div class="nav">
                <nav class="nav-header">
                <a href="/Endangered-Languages-Dictionary/index.pl.html">Strona główna</a>&nbsp;
                |&nbsp;<a href="/Endangered-Languages-Dictionary/search.pl.html">Wyszukaj</a>&nbsp;
                |&nbsp;<a href="/Endangered-Languages-Dictionary/about.pl.html">O stronie</a>&nbsp;
                |&nbsp;Wybierz język:&nbsp;
                <select name="langs" title="Wybierz język">
                    <option value="pl">Polski</option>
                    <option value="en">English</option>
                    <option value="de">Deutsch</option>
                    <option value="es">Español</option>
                </select>&nbsp;
                <button type="submit" id="lang-submit" onclick="change_lang();">Zatwierdź</button>
                </nav>
            </div>
        </div>
        <form id="search">
            <input type="number" id="query-elasticity" name="elasticity" min="0" max="10" value="2" />
            <input type="text" id="query-text" name="text" placeholder="Wpisz szukany tekst" />
            <select id="query-dictionary" name="dictionary" title="Wybierz słownik">
                <optgroup label="Kaszubski (Kaszëbsczi)">
                    <option value="pl_csb">Polski - Kaszubski (Kaszëbsczi)</option>
                    <option value="csb_pl">Kaszubski (Kaszëbsczi) - Polski</option>
                </optgroup>
                <optgroup label="Dolnołużycki (Dolnoserbski)">
                    <option value="pl_dsb">Polski - Dolnołużycki (Dolnoserbski)</option>
                    <option value="dsb_pl">Dolnołużycki (Dolnoserbski) - Polski</option>
                </optgroup>
                <optgroup label="Górnołużycki (Hornjoserbsce)">
                    <option value="pl_hsb">Polski - Górnołużycki (Hornjoserbsce) </option>
                    <option value="hsb_pl">Górnołużycki (Hornjoserbsce) - Polski</option>
                </optgroup>
                <optgroup label="Wilamowski (Wymysiöeryś)">
                    <option value="pl_wym">Polski - Wilamowski (Wymysiöeryś)</option>
                    <option value="wym_pl">Wilamowski (Wymysiöeryś) - Polski</option>
                </optgroup>
                <optgroup label="Rusiński">
                    <option value="pl_rue">Polski - Rusiński</option>
                    <option value="rue_pl">Rusiński - Polski</option>
                </optgroup>
            </select>
            <button type="submit" id="query-submit">Wyszukaj</button> 
        </form>
        <strong>Hasło: </strong><br>
        <div id="phrase"></div>
        <strong>tłumaczenia</strong>
        <ul id="translations"></ul>
        <span id="part-of-speech"><em></em></span>
        <span id="IPA"><a href="pl.wikipedia.org/wiki/Międzynarodowy_alfabet_fonetyczny">MAF</a>: </span>
        <span id="Kirschenbaum"><a href="pl.wikipedia.org/wiki/Kirschenbaum">Kirschenbaum</a>: </span>
        <span id="SPA"><a href="pl.wiktionary.org/wiki/Aneks:Język_polski_-_wymowa_-_głoski">AS</a>: </span>
        <span id="UPA"><a href="en.wikipedia.org/wiki/Uralic_Phonetic_Alphabet">UPA</a>: </span>
        <hr>
        <strong>antonimy</strong><br>
        <span id="antonyms"></span><br>
        <strong>hiponimy</strong><br>
        <span id="hyponyms"></span><br>
        <strong>hiperonimy</strong><br>
        <span id="hyperonyms"></span><br>
        <strong>frazy powiązane</strong><br>
        <span id="related"></span>
        <hr>
        <strong>Przykładowe zdania:</strong><br>
        <ul id="sentences"></ul>
        <script>
            const URLQuery = new URLSearchParams(window.location.search);
            console.log(URLQuery);
            var phrase = URLQuery.get("q");
            var dict = URLQuery.get("dict");
            var entry = dictionaries[dict].find(obj => obj.phrase == phrase);
            console.log(entry);
            var phraseDiv = document.querySelector("#phrase");
            phraseDiv.appendChild(document.createTextNode(phrase));

            var IPASpan = document.querySelector("#IPA");
            IPASpan.appendChild(document.createTextNode(entry.pronounciation.IPA));

            var SPASpan = document.querySelector("#SPA");
            if(entry.pronounciation.SPA.length == 0) {
                SPASpan.removeChild(SPASpan.lastChild);
                SPASpan.removeChild(SPASpan.lastChild);
            }
            else SPASpan.appendChild(document.createTextNode(entry.pronounciation.SPA));

            var UPASpan = document.querySelector("#UPA");
            if(entry.pronounciation.UPA.length == 0) {
                UPASpan.removeChild(UPASpan.lastChild);
                UPASpan.removeChild(UPASpan.lastChild);
            }
            else UPASpan.appendChild(document.createTextNode(entry.pronounciation.UPA));

            var KirschenbaumSpan = document.querySelector("#Kirschenbaum");
            KirschenbaumSpan.appendChild(document.createTextNode(entry.pronounciation.Kirschenbaum));

            var translationsList = document.querySelector("#translations");
            var antonymsSpan = document.querySelector("#antonyms");
            var hyponymsSpan = document.querySelector("#hyponyms");
            var hyperonymsSpan = document.querySelector("#hyperonyms");
            if(entry.pos[0] == "S") { // 'S' like 'substance' (a noun or an adjective)
                if(entry.hyponyms.length > 0) {
                    for(var hyp = 0; i < entry.hyponyms.length - 1; i++) {
                        var a = document.createElement("a");
                        a.href = "/Endangered-Languages-Dictionary/entry.pl.html?q=" + entry.hyponyms[hyp] + "&dict=" + dict;
                        a.appendChild(document.createTextNode(entry.hyponyms[hyp]));
                        hyponymsSpan.appendChild(a);
                        hyponymsSpan.appendChild(document.createTextNode(", "));
                    }
                    var a = document.createElement("a");
                    a.href = "/Endangered-Languages-Dictionary/entry.pl.html?q=" + entry.hyponyms[entry.hyponyms.length - 1] + "&dict=" + dict;
                    a.appendChild(document.createTextNode(entry.hyponyms[entry.hyponyms.length - 1]));
                    hyponymsSpan.appendChild(a);
                }
                if(entry.hyperonyms.length > 0) {
                    for(var hyper = 0; i < entry.hyperonyms.length - 1; i++) {
                        var a = document.createElement("a");
                        a.href = "/Endangered-Languages-Dictionary/entry.pl.html?q=" + entry.hyperonyms[hyper] + "&dict=" + dict;
                        a.appendChild(document.createTextNode(entry.hyperonyms[hyper]));
                        hyperonymsSpan.appendChild(a);
                        hyperonymsSpan.appendChild(document.createTextNode(", "));
                    }
                    var a = document.createElement("a");
                    a.href = "/Endangered-Languages-Dictionary/entry.pl.html?q=" + entry.hyperonyms[entry.hyperonyms.length - 1] + "&dict=" + dict;
                    a.appendChild(document.createTextNode(entry.hyperonyms[entry.hyperonyms.length - 1]));
                    hyperonymsSpan.appendChild(a);
                }
            }
            var relatedSpan = document.querySelector("#related");
            var posSpan = document.querySelector("#part-of-speech").querySelector("em");
            posSpan.appendChild(document.createTextNode(entry.pos[0] == 'S' ? entry.pos.substring(1) : entry.pos));
            var sentencesList = document.querySelector("#sentences");
        </script>
    </body>
</html>